{% extends 'core/base_panel.html' %}
{% load static %}

{% block title %}Registrar nueva mascota{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'clinicas/css/registrar_mascota.css' %}">
{% endblock %}

{% block content %}
<main class="main-content">
    <div class="form-container">
        <h1 class="form-title">Registrar Nueva Mascota y Tutor</h1>

        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}

        <form method="POST" action="{% url 'clinica:registrar_mascota' %}">
            {% csrf_token %}

            <div class="form-columns">
                <fieldset class="form-section">
                    <legend><strong>Datos del Tutor</strong></legend>
                    {{ tutor_form.non_field_errors }}
                    {{ tutor_form.as_p }}
                </fieldset>

                <fieldset class="form-section">
                    <legend><strong>Datos de la Mascota</strong></legend>
                    {{ mascota_form.non_field_errors }}
                    {{ mascota_form.as_p }}
                </fieldset>
            </div>

            <button type="submit" class="btn-submit-form">
                <i class="fas fa-save"></i> Registrar Mascota
            </button>
        </form>
        <div class="back-link">
            <a href="{% url 'panel_clinica' %}" class="btn-secondary">
                <i class="fas fa-arrow-left"></i> Volver al Panel
            </a>
        </div>
    </div>
</main>

<script src="{% static 'clinicas/js/clinica.js' %}" defer></script>
{% endblock %}
