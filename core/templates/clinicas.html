{% extends "base.html" %}
{% load static %}

{% block title %}Clínicas | PetComunity{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/clinicas.css' %}">
{% endblock %}

{% block content %}
<main>
    {# Hero Section o Sección de Bienvenida para Clínicas #}
    <section class="clinicas-hero">
        <div class="hero-content">
            <h1>Encuentra la Clínica Veterinaria Perfecta para Tu Compañero</h1>
            <div class="search-bar-container">
                <input type="text" id="search-clinic-input" placeholder="Buscar clínica por nombre o ubicación...">
                <button type="button" class="search-button">Buscar</button>
            </div>
            {#<div class="filter-buttons"> #}
                {# <button class="filter-btn active">Todas</button> #}
                {# <button class="filter-btn">Urgencias</button> #}
                {# <button class="filter-btn">Estética</button> #}
                {# <button class="filter-btn">Consultas</button> #}
                {# Puedes añadir más filtros dinámicamente o según tus categorías #}
           {#  </div> #}
        </div>
    </section>

    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <section class="clinicas-listado">
        <h2 style="text-align:center; margin-bottom: 2rem;">Nuestras Clínicas Asociadas</h2>
        <div class="grid-clinicas">
            {% if clinicas %}
                {% for clinica in clinicas %}
                <div class="card-clinica">
                    <div class="card-clinica-img">
                        {% if clinica.profile.foto %}
                            <img src="{{ clinica.profile.foto.url }}" alt="Foto de {{ clinica.username }}">
                        {% elif clinica.profile.imagen %}
                            <img src="{{ clinica.profile.imagen.url }}" alt="Imagen de {{ clinica.username }}">
                        {% else %}
                            <img src="{% static 'img/default-profile.png' %}" alt="Imagen genérica de clínica">
                        {% endif %}
                    </div>
                    <div class="card-clinica-info">
                        <h3>{{ clinica.first_name }} {{ clinica.last_name }}</h3> {# Asumo que first/last_name es el nombre de la clínica #}
                        <p class="direccion">{{ clinica.profile.direccion_completa }}</p> {# Asumo que tienes un campo de dirección #}
                        <div class="rating">
                            {# Aquí iría tu sistema de estrellas, por ejemplo: #}
                            <span class="star">&#9733;</span><span class="star">&#9733;</span><span class="star">&#9733;</span><span class="star">&#9733;</span><span class="star-empty">&#9734;</span>
                            <span class="rating-text">(4.0)</span> {# Reemplazar con el valor dinámico #}
                        </div>
                        <a href="#" class="btn-ver-perfil">
                            Ver más <i class="fas fa-arrow-right"></i> {# Para Font Awesome #}
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p style="text-align:center; grid-column: 1 / -1;">No hay clínicas registradas aún que coincidan con tu búsqueda.</p>
            {% endif %}
        </div>
    </section>

    <!-- Mapa -->
    <section class="mapa-clinicas" style="margin: 2rem 0; max-width: 900px; margin-left:auto; margin-right:auto;">
      <h2 style="text-align:center; color:#0AA; margin-bottom:1rem;">Ubicación de Clínicas</h2>
      <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3329.1234567890!2d-70.6505555!3d-33.4567890!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662cfabcd123456%3A0xabcdef1234567890!2sCl%C3%ADnica%20Animal%20Care!5e0!3m2!1ses!2scl!4v1651234567890!5m2!1ses!2scl"
      width="100%"
      height="350"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
 </section>

</main>
{% endblock %}